# 运行命令

`streamlit run geo_tool.py`

---

# 功能迭代计划

## ✅ 已完成功能

- [x] **数据持久化（SQLite）** - 已完成
  - 关键词、文章、优化记录、验证结果自动保存
  - 历史记录查看功能（Tab5）
  - 详见 `INTEGRATION_NOTES.md`

- [x] **AI 蒸馏词 - 托词工具** - 已完成
  - 支持三种生成模式：AI生成、托词工具、混合模式
  - 词库管理（编辑、导入、导出）
  - 组合算法（支持10种组合模式）
  - LLM 润色功能（混合模式）
  - 自动去重和相似度过滤

- [x] **收录平台扩展** - 已完成
  - 新增豆包（字节跳动）支持
  - 新增文心一言（百度）支持
  - API Key 格式提示和验证
  - 详见 `PLATFORM_SETUP.md`

- [x] **自媒体账号平台扩展** - 已完成
  - 新增微信公众号（长文）支持
  - 新增抖音图文（短内容）支持
  - 新增百家号、网易号、企鹅号、简书支持
  - 每个平台都有专门的 Prompt 模板
  - 支持 Markdown 格式输出

- [x] **AI 数据报表** - 已完成
  - 自动验证任务（使用历史关键词）
  - 提及率趋势图（按日期展示）
  - 平台贡献度分析（文章平台分布）
  - 关键词效果排名（Top 20）
  - 竞品对比分析（多维度对比）
  - 数据导出功能（CSV 格式）

---

## 📋 待实现功能（按优先级排序）

> **优先级说明**：优先级基于对 GEO 效果的直接影响、实现成本和用户价值综合评估。  
> **调整原则**：优先实现能直接提升 GEO 效果的功能（平台扩展、内容渠道），延后实现辅助性功能（图库）。

### 🔥 高优先级（核心功能增强）

#### 1. 收录平台扩展

**当前支持：** DeepSeek, OpenAI, Tongyi, Groq, Moonshot

**待添加平台：**
- 豆包（字节跳动）- ⭐ 高优先级（用户量大）
- 文心一言（百度）- ⭐ 高优先级（用户量大）
- 腾讯元宝 - 需确认 API 可用性
- 纳米 - 需确认具体 API

**重要性分析：**
- ✅ **直接影响 GEO 效果**：更多平台 = 更全面的验证覆盖
- ✅ **提升验证准确性**：国内主流平台（豆包、文心一言）用户量大，验证结果更有参考价值
- ✅ **实现成本低**：主要是 API 接入，技术难度不高

**评估与优化建议：**
- ⚠️ **需要优化**：
  1. **API 接入优先级**：优先接入豆包、文心一言（用户量大）
  2. **平台分类管理**：按平台类型分类（国内/国外、通用/专业）
  3. **验证成本控制**：支持批量验证时的并发控制，避免 API 费用过高

**实现建议：**
- 在 `build_llm` 函数中扩展新平台支持
- 在侧边栏配置中增加新平台选项
- 添加平台可用性检测

---

#### 2. 自媒体账号平台扩展

**当前支持：** 知乎、小红书、CSDN、B站、头条号、GitHub

**待添加平台：**
- 微信公众号 - ⭐ 高优先级（用户量大、影响力强）
- 抖音图文 - ⭐ 高优先级（流量大）
- 百家号 - 中优先级（百度生态）
- 网易号 - 中优先级
- 企鹅号 - 中优先级
- 简书 - 低优先级

**重要性分析：**
- ✅ **扩大内容投放渠道**：更多平台 = 更多曝光机会
- ✅ **提升品牌影响力**：微信公众号、抖音等平台用户量大
- ✅ **实现成本中等**：主要是 Prompt 模板和格式转换

**评估与优化建议：**
- ⚠️ **需要优化**：
  1. **平台特性差异**：
     - 微信公众号：需要特殊格式（富文本、排版）
     - 抖音图文：图片为主，文字为辅
     - 百家号/网易号/企鹅号：可能有字数限制、格式要求
  2. **内容适配策略**：
     - 为每个平台创建专门的 Prompt 模板
     - 支持平台特定的格式要求（如微信公众号的 Markdown 转 HTML）
  3. **发布功能（可选）**：
     - 初期只生成内容，后续可考虑接入各平台 API 实现自动发布

**实现建议：**
- 扩展 `platforms` 列表
- 为每个平台创建专门的 Prompt 模板
- 添加平台格式转换功能（如 Markdown → HTML）

---

#### 3. 稿件记录（数据持久化）

**功能描述：**
- 保留所有的稿件记录

**状态：** ✅ **已完成**
- 已实现 SQLite 数据持久化
- 支持关键词、文章、优化记录、验证结果的保存和查看
- 详见 `INTEGRATION_NOTES.md`

**后续扩展建议：**
- 数据导出功能（CSV/Excel）
- 数据搜索功能（按关键词搜索历史记录）
- 更详细的统计分析
- 数据备份功能

---

### 🟡 中优先级（功能扩展）

#### 4. AI 数据报表

**功能描述：**
- 系统自动模拟用户提问
- 收录结果实时同步至 AI 数据报表
- 清晰展示哪些词已被引用、哪些平台贡献了曝光

**重要性分析：**
- ✅ **监控 GEO 效果**：自动化监控，数据可视化
- ✅ **指导优化方向**：通过数据反馈优化内容策略
- ⚠️ **实现成本较高**：需要定时任务、数据可视化等

**评估与优化建议：**
- ⚠️ **需要优化**：
  1. **模拟提问的策略**：
     - 定期自动验证（如每天/每周）
     - 支持自定义验证频率
     - 记录历史趋势（提及率变化）
  2. **数据存储**：
     - 使用数据库（SQLite）存储历史数据
     - 支持数据导出和分析
  3. **报表功能**：
     - 提及率趋势图
     - 平台贡献度分析
     - 关键词效果排名
     - 竞品对比分析
  4. **实时同步**：
     - 后台任务 + 实时更新 UI

**实现建议：**
- 新增模块：AI 数据报表（可放在 Tab5 或独立 Tab）
- 自动验证任务（定时/手动触发）
- 数据可视化（趋势图、对比图、热力图）
- 数据导出功能

---

### 🟢 低优先级（高级功能 / 可选功能）

#### 5. 企业知识库 - 企业图库

**功能描述：**
- 分类上传产品图、场景图、资质证书等
- 这些素材会在后续内容生成中自动嵌入，确保品牌一致性

**重要性分析：**
- ⚠️ **对 GEO 直接贡献有限**：GEO 核心是文本内容，大模型主要从文本中提取信息
- ⚠️ **适用场景有限**：主要适用于小红书、抖音等图文平台，对知乎、CSDN 等文字平台作用不大
- ⚠️ **实现成本较高**：需要图片存储、管理、智能匹配等功能
- ✅ **替代方案**：可手动配图，或让 LLM 生成图片描述/建议

**评估与优化建议：**
- ✅ **优点**：提升品牌一致性，素材复用
- ⚠️ **需要优化**：
  1. **图片存储与管理**：
     - 使用本地文件系统或云存储（OSS/S3）
     - 支持图片分类、标签、搜索
  2. **图片在内容中的嵌入方式**：
     - 文本内容：生成图片描述，提示"可配图：xxx"
     - Markdown：自动插入图片链接
     - 小红书/抖音：生成图片使用建议
  3. **图片与内容的智能匹配**：
     - 使用 LLM 分析内容主题，自动推荐匹配图片
  4. **版权与合规**：
     - 增加图片版权信息记录

**实现建议：**
- 新增模块：企业图库管理（可放在侧边栏或独立 Tab）
- 图片上传（支持批量）
- 图片分类（产品图、场景图、资质证书等）
- 图片标签系统
- 内容生成时自动匹配图片

**建议：** 可延后实现，或先实现简化版（仅图片上传和描述生成）

---

#### 6. 数据报表高级分析

- 更详细的统计分析
- 预测性分析
- 竞品深度对比

#### 7. 自动发布功能

- 接入各平台 API
- 自动发布生成的内容
- 发布状态跟踪

---

## 📊 整体架构建议

### 优先级排序

1. **高优先级**（核心功能增强）
   - 收录平台扩展（豆包、文心一言等）⭐ ✅ 已完成
   - 自媒体平台扩展（微信公众号、抖音等）⭐ ✅ 已完成
   - 稿件记录 ✅ 已完成

2. **中优先级**（功能扩展）
   - AI 数据报表（基础版）✅ 已完成

3. **低优先级**（高级功能 / 可选功能）
   - 企业图库（对 GEO 直接贡献有限，可延后）
   - 数据报表高级分析
   - 自动发布功能

### 技术架构建议

1. **数据持久化** ✅ 已完成
   - 使用 SQLite（轻量）
   - 存储：关键词、内容、优化记录、验证结果、图片元数据

2. **模块化重构**
   - 将功能拆分为独立模块
   - 便于维护和扩展

3. **配置管理**
   - 使用配置文件管理平台模板、词库等
   - 支持用户自定义

4. **性能优化**
   - 批量操作使用并发/异步
   - 缓存常用数据

---

## 📝 实现记录

### 已完成
- [x] SQLite 数据持久化（2024）
- [x] 历史记录查看功能
- [x] 托词工具（AI 蒸馏词）- 2024
- [x] 收录平台扩展（豆包、文心一言）- 2024
- [x] 自媒体平台扩展（微信公众号、抖音等）- 2024
- [x] AI 数据报表 - 2024

### 待开始（按优先级）
- [ ] 企业图库 - 低优先级（可延后）

---

## 🔗 相关文档

- `INTEGRATION_NOTES.md` - SQLite 持久化集成说明
- `STORAGE_GUIDE.md` - 数据持久化方案对比
- `PLATFORM_SETUP.md` - 平台扩展安装说明（豆包、文心一言）
- `data_storage.py` - 数据存储模块实现