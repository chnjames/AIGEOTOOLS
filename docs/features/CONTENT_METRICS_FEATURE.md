# 内容质量指标分析功能说明

## 📋 功能概述

内容质量指标分析模块是 GEO 工具的核心功能之一，用于量化分析生成内容的质量，帮助用户数据驱动优化内容策略。

### 核心价值

- **量化内容质量**：通过 Trust Density、Citation Share、Authority Score、Engagement Potential 等指标量化内容质量
- **数据驱动优化**：基于指标数据识别高质量内容，优化内容生成策略
- **平台对比分析**：对比不同平台的内容质量指标，优化平台选择
- **内容排名**：识别 Top 内容，总结成功经验

## 🎯 功能位置

### Tab6（AI 数据报表）- 内容质量指标分析模块

在 Tab6 中，内容质量指标分析模块位于 ROI 分析与成本优化之后、关键词效果排名之前。

## 📊 指标说明

### 1. Trust Density（信任密度）

**定义**：每100字信任信号数

**计算方式**：
- 统计内容中的信任信号（来源占位、数据点、案例等）
- 计算每100字的信任信号数量

**信任信号包括**：
- 来源占位：如"根据XX报告"、"参考XX研究"、"来自XX数据"
- 数据点：百分比、数量、倍数等（如"80%"、"3倍"、"100个"）
- 案例：如"某企业案例"、"实际测试表明"、"使用中发现"

**目标值**：建议 > 2.0（每100字至少2个信任信号）

---

### 2. Citation Share（引用比例）

**定义**：品牌引用比例（品牌提及次数 / 总提及次数）

**计算方式**：
- 统计内容中品牌名称的提及次数
- 计算品牌提及在总提及中的比例

**目标值**：建议 5-15%（自然提及，不过度）

---

### 3. Authority Score（权威性得分）

**定义**：权威性得分（0-100分）

**计算方式**：
- 来源占位得分（最多30分）：每个来源占位 +5分
- 信任信号密度得分（最多40分）：基于信任信号密度
- 数据点得分（最多30分）：每个数据点 +2分

**目标值**：建议 > 60分

---

### 4. Engagement Potential（参与度潜力）

**定义**：参与度潜力（0-100分）

**计算方式**：
- 标题得分（最多20分）：每个标题 +2分
- 列表得分（最多25分）：每个列表项 +1.5分
- FAQ 得分（最多25分）：每个FAQ对 +3分
- 代码块得分（最多15分）：每个代码块 +5分
- 表格得分（最多10分）：每个表格 +2分
- 引用得分（最多5分）：每个引用 +1分

**目标值**：建议 > 50分

## 🔄 工作流程

### 1. 自动分析

系统会自动分析所有历史文章的内容质量指标：

1. **获取文章**：从数据库获取指定品牌的所有文章
2. **批量分析**：对每篇文章计算各项指标
3. **汇总统计**：计算平均指标值

### 2. 查看指标分析

1. **指标概览**：查看平均 Trust Density、Citation Share、Authority Score、Engagement Potential
2. **详细指标**：查看每篇文章的详细指标数据
3. **可视化分析**：查看指标分布图、热力图、相关性分析
4. **Top 排名**：查看各项指标的 Top 5 内容

### 3. 优化建议

基于指标数据，系统会提供优化建议：
- 低 Trust Density：建议增加来源占位、数据点、案例
- 低 Citation Share：建议自然增加品牌提及
- 低 Authority Score：建议增加来源占位和数据点
- 低 Engagement Potential：建议增加结构化元素（标题、列表、FAQ等）

## 📊 功能模块

### 指标概览

显示关键指标的平均值：
- **平均 Trust Density**：每100字信任信号数
- **平均 Citation Share**：品牌引用比例
- **平均 Authority Score**：权威性得分（0-100）
- **平均 Engagement Potential**：参与度潜力（0-100）

### 详细指标分析

显示每篇文章的详细指标：
- 关键词
- 平台
- Trust Density
- Citation Share (%)
- Authority Score
- Engagement Potential
- 信任信号数
- 来源占位
- 品牌提及

### 指标可视化

1. **分布图**：
   - Trust Density 分布
   - Authority Score 分布

2. **热力图**：
   - 各平台平均指标热力图（按平台对比）

3. **相关性分析**：
   - 指标相关性矩阵（分析指标之间的关联）

### Top 内容排名

显示各项指标的 Top 5 内容：
- Top 5 Trust Density
- Top 5 Citation Share
- Top 5 Authority Score
- Top 5 Engagement Potential

### 数据导出

支持导出指标数据为 CSV 文件，包含所有文章的详细指标数据。

## 💡 使用建议

### 1. 定期查看指标

建议每次生成内容后，在 Tab6 查看内容质量指标，了解内容质量趋势。

### 2. 对比平台效果

使用平台指标热力图对比不同平台的内容质量，优化平台选择策略。

### 3. 学习 Top 内容

查看 Top 内容排名，分析高质量内容的特征，总结成功经验。

### 4. 优化内容生成

基于指标数据，调整内容生成策略：
- 低 Trust Density：在 Prompt 中强调添加来源占位和数据点
- 低 Authority Score：使用"证据驱动"优化技巧
- 低 Engagement Potential：使用"对话式设计"或"步骤式指南"优化技巧

## 🔧 技术实现

### 模块位置

- **分析模块**：`modules/content_metrics.py`
- **UI 集成**：`modules/geo_tool.py` Tab6

### 核心类

- `ContentMetricsAnalyzer`：内容质量指标分析器
  - `analyze_content()`：分析单篇文章
  - `analyze_batch()`：批量分析文章
  - `get_metrics_summary()`：获取指标汇总统计

### 指标计算

使用正则表达式模式匹配识别：
- 信任信号模式
- 来源占位模式
- 结构化元素模式
- 品牌提及模式

## 📝 更新日志

- **2025-01-26**：初始版本发布
  - 实现 Trust Density、Citation Share、Authority Score、Engagement Potential 四个核心指标
  - 添加指标可视化和 Top 排名功能
  - 集成到 Tab6（AI 数据报表）

---

**版本**：1.0.0  
**最后更新**：2025-01-26
